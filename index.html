 

<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>スタンプラリー</title>
     <script
      src="https://kit.fontawesome.com/d0a601627a.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://yubinbango.github.io/yubinbango/yubinbango.js"
      charset="UTF-8"
    ></script>
    <link
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
  </head>
  
  <body>

          
       <header>
             <div id="loading">
        <div class="loading-content">
            <img src="https://i.ibb.co/Wv8X3LVh/1.png">
          <h2>スタンプラリーの準備中です！！</h2>
          <h2>loading・・・</h2>
          <div class="progress-wrapper">
            <div class="progress-bar"></div>
            <div class="progress-text"><span class="percent">0%</span></div>
          </div>
        </div>
    </div>
      <script>
        window.addEventListener('load',function(){
            const element = document.querySelector('#loading')
            element.classList.add('loadEnd');
        });
    </script>
    <style>
        #loading{
            transition: all 1s;
            background-color: #ffffff;
            position:fixed;
            z-index: 999;
            inset: 0;
            display: grid;
            place-items:center;            
        }

        #loading img{
            width: 40%;
            animation: slide 4s linear infinite;
            position: relative;
        }

        .loading-content{
            width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @keyframes slide {
            0% {
                transform: translateX(-100%);
            }
            100%{
                transform: translateX(200%);
            }
        }

        #loading h2 {
            animation:fadeIn 5s linear infinite;
            position:relative;
            
        }
        
        @keyframes fadeIn{
            0% {opacity: 0}
            50% {opacity : 1}
            100% {opacity: 0}

        } 


     .loadEnd{
          opacity: 0;
          visibility: hidden;
          }
    




    </style>

  

<style>
  .progress-wrapper {
  width: 100vw; /* 画面いっぱい */
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 30px;
  padding: 0 20px; /* スマホで左右ギリギリ防止（必要に応じて） */
  box-sizing: border-box;
}

.progress-bar {
  background-color: skyblue;
  height: 10px;
  width: 100%; /* wrapperの幅に合わせてフルに伸びる */
  animation: loadingBar 20s linear;
  border-radius: 5px;
  margin-bottom: 10px;
}

  .progress-text {
    font-size: 24px;
    color: blue;
   
    font-weight: bold;
  }

  @keyframes loadingBar {
    0% { width: 0; }
    100% { width: 100%; }
  }
</style>

<script>
const percentSpan = document.querySelector('.percent');
const loopStart = Date.now();
const duration = 20000; // 20秒

function loopPercentage() {
  const now = Date.now();
  const elapsed = now - loopStart;

  if (elapsed >= duration) {
    percentSpan.innerHTML = `※通信状況等により<br>数分かかる場合があります`; // 最終表示
    return; // ループ終了
  }

  const progress = elapsed / duration;
  const percentage = Math.floor(progress * 100);
  percentSpan.textContent = `${percentage}%`;

  requestAnimationFrame(loopPercentage);
}

loopPercentage();
</script>

        
  </header>

<!--     <div class="modal" id="modal">
      <h3 class="modal__txt">
        <p>クールシェアたからづか<br>ご参加の皆様へ</p>
        <p>皆様クールシェアをお楽しみいただきありがとうございます。</p>
          <p>システムにつきまして、ご不便をお掛けし申し訳ありません。</p>
          <p>エラーの状況確認と改善のため、<br>デジタルスタンプラリーのシステムを休止させていただきます。<br>システムメンテナンスが長引いております<br>申し訳ございません。</p>
          <p>なお、シール形式のスタンプラリーは引続きご利用頂けます。</p><br>
          <p>クールシェアたからづか 事務局</p>
      
        </h3>

      
    </div>

    <button class="closeBtn" id="closeBtn"></button>

    <style>
      div.modal{
        display: block;
        position: fixed;
        margin:0;
        z-index: 990;
        background-color: pink;
        height: 100vh;  
        width:100%; 
              }

      h3.modal__txt{
        text-align: center;
        padding: 10% 0;
  
      }

      button.closeBtn{
        width:100%;
        position: fixed;
        z-index: 999;
        bottom: 1%;
       font-size: 50%;
      }

      div.modal.close{
        display:none;

              }
    </style>

    <script>
      const closeBtn =  document.getElementById('closeBtn');
      const modal = document.querySelector('.modal');

      const pageClose = document.getElementById('pageClose');

      closeBtn.addEventListener('click' , function(){
        
        modal.classList.toggle('close');
      
      });

      
    </script> -->
  
    <h1>
        <img
          src="https://i.ibb.co/Wv8X3LVh/1.png"
          alt="IMG-5451"
          width="100px"
          height="100px"
        />
        クールシェアたからづか<br>2025<br>スタンプラリー
        
      </h1>
      

      <ul class="scroll-list">
        <li class="scroll-message"></li>
      </ul>

      <a href="https://coolsharetakarazuka.github.io/openchat/" class="btn lineOp">LINEオープンチャット<br>詳細・参加はここをタップ！！</a><br><br>
      
      <style>
        .scroll-list{
          display: flex;
          list-style: none;
          padding-inline: 0;
          margin-inline: 0;
          gap: 0;
          background-color: yellow;
          overflow: hidden;
        }

        .scroll-list li{
          color: gray;
          font-size: 2em;
          font-weight: bold;
          white-space: nowrap;
          padding: 0 1em 0 0;
          margin: 0;
          transform: translateX(40%);
          animation: marquee-left 30s linear infinite;
        }

        @keyframes marquee-left{
       
          100%{
            transform: translateX(-100%);
          }
        }

        .lineOp{
          background-color: #06C755 !important;
          text-align: center !important;
          font-size: 100% !important;
        }
      </style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<script>
  fetch("https://docs.google.com/spreadsheets/d/10qt47x8Ofmj4D6ts6c-8uNVbxsgddpiH9KGovX8fVjc/gviz/tq?tqx=out:csv")
    .then((response) => response.text())
    .then((csvText) => {
      const parsedData = Papa.parse(csvText, { header: true });
      const messageData = parsedData.data;

      // A2セルの値（spot2列の1行目の値）を取得
      const message = messageData[0]?.message || "不明";

      // HTMLのpClass2の中身を置き換える
      const ul = document.querySelector(".scroll-list");
      ul.innerHTML = ""; // 一旦中身を消す

      const li = document.createElement("li");
      li.className = "scroll-message";
      li.textContent = message;
      ul.appendChild(li);
    });
</script>

    <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>


<script>

let isLiffReady = false;
let isPageLoaded = false;

function checkLoading(){
  if(isLiffReady && isPageLoaded){
    // ここでローディング終了
    const loadingEl = document.querySelector('#loading');
    if (loadingEl) loadingEl.classList.add('loadEnd');
  }
}

window.onload = () => {
  isPageLoaded = true;
  console.log(isPageLoaded);
  checkLoading();
}

  liff.init({ liffId: "2007302862-3mj9r7W5" })
    .then(async () => {
      if (!liff.isLoggedIn()) {
        liff.login(); // この時点で画面はリロードされるので以降の処理はされない
        return;
      }

      try {
        const profile = await liff.getProfile();
        const userId = profile.userId;

        // ユーザーIDをフォームに追加
        ["userForm1", "userForm2", "userForm3", "userForm4", "userForm5", "userForm6", "userForm7", "userForm8"].forEach(
          (formId) => {
            const form = document.getElementById(formId);
            if (form) {
              const userIdField = document.createElement("input");
              userIdField.type = "hidden";
              userIdField.name = "userId";
              userIdField.value = userId;
              form.appendChild(userIdField);
            }
          }
        );

        // ボタンの表示更新
        document.querySelector(".button1").textContent = "ユーザー登録";
        document.querySelector(".button2").innerHTML = "スタンプカードを見る";
        document.querySelector(".button3").textContent = "※";
        const test2 =  document.querySelector(".button4");
       console.log(test2);
        document.querySelector(".button4").textContent = "終了証作成";
       
       const test =  document.querySelector(".button6");
       console.log(test);
       document.querySelector(".button6").innerHTML = "背景画像を変更する";
        document.querySelector(".button7").innerHTML = "参加名を変更する";
        document.querySelector(".button8").innerHTML= "応募状況確認";

      } catch (err) {
        console.log("プロフィール取得エラー: ", err);
      } finally {
        isLiffReady = true;
        console.log(isLiffReady);
        checkLoading();
      }
    })
    .catch((err) => {
      console.log("LIFF初期化エラー:", err);
    });
// </script>



<!-- 
//     <script>
// function disableButton(form) {
//   const button = form.querySelector('button[type="submit"]');
//   button.disabled = true;
//   button.textContent = '送信中...';
//   return true; // フォームの送信を続ける
// }
// </script> -->


<div class="tabs">

<input
    id="registration"
    class="registration"
    type="radio"
    name="tab_item"
    aria-label="ユーザー登録"
  />
  <label class="tab_item blinking-link" for="registration"><i class="fa fa-user-plus i-top" aria-hidden="true"></i> <br>ユーザー登録</label>


  <input
    id="stamp"
    type="radio"
    name="tab_item"
    checked
    aria-label="スタンプ獲得"
  />
  <label class="tab_item" for="stamp"><i class="fa-solid fa-qrcode i-top"></i><br>スタンプ獲得</label>

  <input id="mypage" type="radio" name="tab_item" aria-label="スタンプカード" />
  <label class="tab_item" for="mypage"><i class="fa-solid fa-stamp i-top"></i><br>スタンプカード</label>

  

  <input id="ranking" type="radio" name="tab_item" aria-label="ランキング" value="https://coolsharetakarazuka.github.io/ranking/" onclick="location.href=this.value" />
  <label class="tab_item" for="ranking"><i class="fa-solid fa-trophy i-top"></i><br>ランキング</label>


  
  <div class="tab_content" id="stamp_content">
    <div class="２次元コード">
      <p class="c-txtsp">
       
          <h2 class="ballon"> <i class="fa fa-chevron-circle-up"></i>  初めての方 <i class="fa fa-user-plus" aria-hidden="true"></i><br>(ユーザー登録をしよう！！)</h2>
       
          

        <script>
        function selectRadio(id) {
        const radio = document.getElementById(id);
        if (radio) {
        radio.checked = true;
        }
        }
        </script>

        <style>
          .blinking-link{
            color: red;
            text-align: center;
            animation: blinking 2s ease-in-out infinite alternate;
          }
          

 
          .user-link{
            background-color: yellow;
            text-align: center;
            
          }

          @keyframes blinking {
            0% {
              opacity: 0;
            }

            100% {
              opacity: 1;
            }
          }
            
          </style>
          <br>
         
          <h2 class="qrTitle" id="qrTitle"><i class="fa-solid fa-qrcode"></i> ２次元コード読み取って<br><i class="fa-solid fa-stamp"></i> スタンプを獲得しよう！</h2>
        
        <h3><button id="scanQR" type="button">２次元コードスキャン <br />ここをタップ！！</button></h3>
    <h3>
      ※２次元コードはスポットごとに違います!<br />※スポットごとに読み取ってください!
    </h3>
   
    <p>スキャン結果: <span id="result"></span></p>

      
          
<!--     <div class="modal1 open" id="modal1">
      <h3 class="modal1__txt">
        【重要なお知らせ】<br />クールシェアたからづかご参加の方へ
      </h3>
      <h4 class="modal1__txt">
        <p>
          8月12日より、<br />スタンプラリーを<br />より安心してお楽しみいただくため<br />スタンプ獲得時に【📍位置情報の許可】<br />が必要になります
        </p>
        <p>
          • 位置情報は スタンプ獲得時のみ 取得します<br />
          • 利用目的は「スポットにいることの確認」だけです<br />
          • その他の目的では一切利用しません
        </p>
        <p>
          許可画面が表示されたら、<br />「許可する」を選択してください<br />※端末によって表示が<br />異なる可能性があります<br />
          <img class="permission" src="./permision.png" />
        </p>
      </h4>
      <button id="modal1__btn" class="modal1__btn">次に進む</button><br><br>
    </div>

    <div class="modal2" id="modal2">
      <h3 class="modal2__txt">
        位置情報の設定をご確認の上<br />再度お試しください
      </h3>
      <h4 class="modal2__txt">
        <p>ご利用の端末の設定アプリで<br />位置情報の設定をしてください</p>
        <p>【iphoneの方】</p>
      </h4>

      <h4>
        <ol>
          <li>
            「設定」>「プライバシーとセキュリティ」>「位置情報サービス」の順にタップ
          </li>
          <li>「位置情報サービス」をオンにする</li>
          <li>下にスクロールしてLINE アプリを探す</li>
          <li>LINE アプリをタップし、オプションを選択</li>
          <li>［この App の使⽤中のみ許可］、または［常 に］に設定</li>
        </ol>
      </h4>

      <h3 class="modal2__txt">
        <p>【Androidの方】</p>
      </h3>

      <h4>
        <ol>
          <li>[設定] > [位置情報]の順にタップ</li>
          <li>[位置情報を使用]を「オン」にする</li>
          <li>
            再び[設定]画面に戻り、[アプリ] > [LINE] > [権限] >
            [位置情報]の順にタップ。
          </li>
          <li>[アプリの使用中のみ許可]に設定</li>
        </ol>
      </h4>

      <button class="modal2__btn"
        onclick="location.href='https://liff.line.me/2007302862-3mj9r7W5'"
      >
        再度読み込む
      </button>
    </div>

    <script>
      let userLat = "";
      let userLon = "";

      window.onload = async function handleLocationFlow() {
  const isPermissionGranted = await checkGeolocationPermission();
  if (isPermissionGranted) {
    sortByDistance();
  } else {
    showLocationModal();
  }
};

      // 🔍 ユーザーの位置情報許可状況を調べる関数
      async function checkGeolocationPermission() {
        if (!navigator.permissions) return false; // 古いブラウザ対策

        try {
          const result = await navigator.permissions.query({
            name: "geolocation",
          });
          return result.state === "granted";
        } catch (e) {
          return false;
        }
      }

      function sortByDistance() {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            userLat = position.coords.latitude;
            userLon = position.coords.longitude;

            console.log(userLat);
            console.log(userLon);
          },
          (error) => {
  console.error("位置情報の取得に失敗:", error);
  if (error.code === error.PERMISSION_DENIED) {
    showModal2(); // 権限未許可
  } else if (error.code === error.POSITION_UNAVAILABLE) {
    alert("位置情報を取得できませんでした。電波状況をご確認ください。");
  } else if (error.code === error.TIMEOUT) {
    alert("位置情報取得がタイムアウトしました。再度お試しください。");
  }
}
        );
      }

      // 📌 モーダル内で「OK」ボタンを押したらポップアップへ進む
      function proceedToRequestLocation() {
        document.getElementById("modal1").classList.remove("open");
        sortByDistance(); // → ここで geolocation.getCurrentPosition() が走る
      }

      document
        .getElementById("modal1__btn")
        .addEventListener("click", proceedToRequestLocation);

      function showLocationModal() {
        const modal = document.getElementById("modal1");
        modal.classList.add("open");
      }
    </script>

    <style>
      div.modal1 {
        background-color: rgb(0, 255, 255);
        width: 100%;
        height: 100vh;

        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);

        z-index: 100;

        display: none;
       overflow-y: auto;
      }

      div.modal1.open {
        display: block;
      }

      .modal1__txt {
        text-align: center;
      }

      button.modal1__btn {
        font-size: 200%;
        display: block;
        margin: 0 auto;
      }

      div.modal2 {
        background-color: pink;
        width: 100%;
        height: 100vh;

        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);

        z-index: 100;

        display: none;
       overflow-y: auto;
      }

      div.modal2.open {
        display: block;
      }

      .modal2__txt {
        text-align: center;
      }

      button.modal2__btn {
        font-size: 200%;
        display: block;
        margin: 0 auto;
      }

      img.permission {
        width: 300px;
        display: block;
        margin: 10px auto;
      }
    </style> -->
   <script>
      // ✅ QRコードスキャン処理
      document.getElementById("scanQR").addEventListener("click", () => {
          
          if (!liff.isInClient()) {
            alert("LINEアプリ内で開いてください");
            return;
          }
      
          liff.scanCodeV2().then((result) => {
            const qrCodeData = result.value;
            
            document.getElementById("result").textContent = "QRコードの読み取りに成功しました";
            

            const params = new URLSearchParams(qrCodeData.split('?')[1]);
            const spotId = params.get('spot') || params.get('spotId');

            if (spotId) {
              const form = document.getElementById("userForm3");
              const spotIdField = document.createElement("input");
              spotIdField.type = "hidden";
              spotIdField.name = "spotId";
              spotIdField.value = spotId;
              form.appendChild(spotIdField);

              // const userLatField = document.createElement("input");
              // userLatField.type = "hidden";
              // userLatField.name = "userLat";
              // userLatField.value = userLat;
              // form.appendChild(userLatField);

              // const userLonField = document.createElement("input");
              // userLonField.type = "hidden";
              // userLonField.name = "userLon";
              // userLonField.value = userLon;
              // form.appendChild(userLonField);

              document.getElementById("button3").click();

             const load = document.getElementById("loading");
             load.classList.remove('loadEnd');
              
            } else {
              alert("無効なQRコードです");
            }

           
            
          }).catch((err) => {
            console.error("QRコードスキャンエラー:", err);
          });
        });

       
     
</script>


      


    

<form 
id="userForm3"
action="https://script.google.com/macros/s/AKfycbwWzVZoR9gAMxlBqFzk8q7h_SqvQvcPVktIcfjmK4-fQrIALkqIys2d3oO1ujsdk_yeMw/exec"
method="post"
>
<button id="button3" class="button3 btn" type="submit" style="display: none;";>ログインされていません</button>
  <h4>２次元コードを読み込むと自動でページが切り替わります</h4>
</form>
     <div class="slider-group">
        
        <div class="slider-card">②《２次元コードをスキャン》をタップ
          <img src="./3-3.png" class="slider-card-img" />
        </div>
        <div class="slider-card">③《今回のみ許可する》をタップ
          <img src="./3-4.png" class="slider-card-img" />
        </div>
        <div class="slider-card">④スポットの２次元コードをスキャン
          <img src="./3-5.png" class="slider-card-img" />
        </div>
        <div class="slider-card">⑤スタンプ獲得！！
          <img src="./3-6.png" class="slider-card-img" />
        </div>
        <br />
      </div>

     <style>
       .slider-group {
      position: relative;
      width: 100%;
      min-height: 200px;
      height: auto;
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
    }

    .slider-card {
      flex: 0 0 auto;
      max-width: 250px;
      height: 100%;
      margin-right: 20px;
    }

    .slider-card-img {
      width: 100%;

      object-fit: cover;
    }
     </style>


<!--
イベント終了後に表示する画面 ↓

<h2 class="thank">クールシェアたからづか2025<br>デジタルスタンプラリーに<br>ご参加誠に<br>ありがとうございました 🙇</h2>
<h2 class="youtube">10月24日(金) 18:00〜<br> <i class="fa-brands fa-youtube youtube"></i> YouTubeLIVEにて<br>当選発表を行います！！</h2>

<h2 class="gift">景品応募状況・宛先確認</h2>

     <h3>💡抽選会では、<br>応募番号と参加名(ニックネーム)を発表します</h3>
     <h3>💡抽選会の前に、<br>ご自身の応募番号をこちらからご確認ください</h3>
     <h3 class="tousen">💡景品当選の場合、<br>こちらから住所の確認をお願いいたします</h3>

<form onsubmit="disableButton(this)"
id="userForm8"
action="https://script.google.com/macros/s/AKfycbxqPcHujHK-5Z0bHsAyH6ti58FmrYrBfkKrzM-X9pFfZ_2udDrnIFtkoUaOmSHyb6mOJg/exec"
method="post"
>
     

<button class="button8 btn" type="submit">確認する</button>
</form>
-->
     <!--
        <h3>当選発表まであと<br><span id="day"></span>日 <span id="hour"></span>時間 <span id="min"></span>分 <!--<span id="second"></span>秒--></h3>
     <!--   
     <a href="https://www.youtube.com/live/5Upxrb2dxRc?feature=shared" class="youtube"><i class="fa-brands fa-youtube youtube2"></i> YouTube LIVE</a><br><br>
        <iframe  src="https://www.youtube.com/embed/5Upxrb2dxRc?si=XKs7RRox8HJNTw6R" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


-->
<!--         <script>

          function showRestTime(){
      
          const now = new Date();
          const eventDay = new Date(2025, 9, 24, 18, 0, 0);
          const diff = eventDay.getTime() - now.getTime();
      
          const day = Math.floor(diff / 1000 / 60 / 60 / 24);
          const hour = Math.floor(diff / 1000 / 60 / 60) % 24;
          const min = Math.floor(diff / 1000 / 60 ) % 60 + 1;
          const second = Math.floor(diff / 1000 ) % 60; 
      
          document.getElementById("day").textContent = day;
          document.getElementById("hour").textContent = hour;
          document.getElementById("min").textContent = String(min).padStart(2, '0');
          //document.getElementById("second").textContent = String(second).padStart(2, '0');
      
          }
      
          setInterval(showRestTime, 1000);

        </script> -->
      

<style>
  h2.gift{
        border-color: #66b2ff !important;
        border-style: double;
        border-width: 5px;
      }
  .thank{
    text-align: center;
    background-color: skyblue;
    padding: 5px;
  }

  i.youtube {
    color: #ff0000;
  }

  /*
  span{
        font-family: Orbitron;
        font-size: 40px;
        
        
    }
*/

    li{
       
        font-family: sans-serif;
        font-weight: bold;
    }

    a.youtube{
        margin : 0 ;
        text-decoration: none;
        color: #fff;
        background-color: #FF0000;
        padding: 10px;
        font-size: 200%;
      }

      h2.youtube {
    border-color: #FF0000;
    border-width: 5px;
    border-style: double;
    
}



      


</style>
      
          


        
      </p>
    </div>
  </div>
  <script>
    function changeRadio(id){
      document.getElementById(id).checked = true;
    }
  </script>



  
  <div class="tab_content" id="mypage_content">
    <div class="２次元コード">
      <p class="c-txtsp">
        <h3>このページでできること・・・</h3>
        <h3>①現在のスタンプ数を確認<br>②背景画像 ③参加名を変更<br>④終了証をダウンロード</h3>
       
        <details class="accordion-001">
          <summary>
          <h2 class="title">①スタンプラリー<br>カード</h2>
        </summary>
          <h3><i class="fa fa-angle-double-right"></i> 確認できること</h3>
         <ul>
          <li>現在のスタンプ数</li>
          <li>ビンゴの達成状況</li>
          <li>限定画像の保存</li>
          <li>景品応募(8スタンプごと)</li>
         </ul>
       
          <form onsubmit="disableButton(this)"
              id="userForm2"
              action="https://script.google.com/macros/s/AKfycbxOiFvUl68p0zvKD7ZHgOKXk6mokPcjuHMImhTNlEtQP7mBpB7mENmFOlbb4Yu4QWDlTg/exec"
          
              method="post"
              >

           <h3><i class="fa fa-angle-double-right"></i> 修復完了しました！！</h3>
           <!-- ユーザーIDは動的に追加されます -->
           <button class="button2 btn" type="submit">ログインされていません</button>
          </form><br>
          </details>

          <details class="accordion-001">
            <summary>
       <h2 class="title">②スタンプカードの<br>背景画像を変更する</h2>
       </summary>
<h3><i class="fa fa-angle-double-right"></i> お好きな背景画像に変更できます！</h3>

 <form onsubmit="disableButton(this)"
        id="userForm6"
        action="https://script.google.com/macros/s/AKfycbyKYU7RAWN9FSOzygomSvfqr9wccXGG1FU_e2Tk4NKGuzYKR3u__upvGaQLGwHTjfbf/exec"
        method="post"
        >

<!--     <div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="11">
      <h4>7/14~7/31限定！！</h4>
      <img class="backImg" src="./11-0.png" class="radio">
  
  </div>

</div> -->

    <div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="19">
      <h4>9月限定！！</h4>
      <img class="backImg" src="./1-9-0.png" class="radio">
  
  </div>

</div>
   
     
      <div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="3">
      <img class="backImg" src="./3-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="4">
      <img class="backImg" src="./4-0.png" class="radio">
  
  </div>

</div>





<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="5">
      <img class="backImg" src="./5-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="6">
      <img class="backImg" src="./6-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="7">
      <img class="backImg" src="./7-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="8">
      <img class="backImg" src="./8-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="9">
      <img class="backImg" src="./9-0.png" class="radio">
  
  </div>

</div>



    <button class="button6 btn" type="submit">ログインされていません</button><br><br>
          </form>

<style>
    .radio{
      transform: scale(2.0);
      }
    .backImg{
        width: 50%;
    }

    .radio-group {
    
    column-gap: .5rem;
    margin-bottom: 0.5rem;
    padding: 1rem 0.5rem;
    border: 1px solid #333;
    background-color: #fff;
}
</style>
</details>

<details class="accordion-001">
  <summary>    
    <h2 class="title">③参加名を変更する</h2></summary>
    <h3><i class="fa fa-angle-double-right"></i> お好きなニックネームに変更できます</h3>

    <form onsubmit="disableButton(this)"
        id="userForm7"
        action="https://script.google.com/macros/s/AKfycbzJ9AiaNDzlneoBG-Pa8KehxGBkcp8V2eQg8bLoTDq5RMEz-_ae3m2-OZJ9-Jxqt5qKnQ/exec"
        method="post"
        >

        <input type="text" name="name" id="name" required /><br><br>
                        
                        
      <!-- ユーザーIDは動的に追加されます -->
      <button class="button7 btn" type="submit">ログインされていません</button>
      </form>
      <h4>
        本名でなくて大丈夫です👌<br />
        お好きな名前でご参加ください！!
      </h4>
      </details>

    </details>


<details class="accordion-001">
  <summary>      
        <h2 class="title">④終了証<br>記念にゲット！！</h2></summary>
        <h3><i class="fa fa-angle-double-right"></i> イベント終了時ゲットしよう！！</h3>
        
      <form onsubmit="disableButton(this)"
        id="userForm4"
        action="https://script.google.com/macros/s/AKfycbyHZj8Z2A78ISNykEYPLabpQIqTncU8-ozcb3qGWkkriMYgVfr2qN0g31NmS8VJNCkZ-A/exec"
        method="post"
        >
      <!-- ユーザーIDは動的に追加されます -->
      <button class="button4 btn" type="submit">ログインされていません</button>
      </form>
      </details>
        

      </p>
    </div>
  </div>


  
  <div class="tab_content" id="registration_content">
    <div class="tab_content_description">
      <p class="c-txtsp">
        <h2 class="qrTitle">ユーザー登録</h2>
                        <form onsubmit="disableButton(this)"
                              id="userForm1"
                              action="https://script.google.com/macros/s/AKfycbw1ADvc3sn9whqYzYy2WjBDrlvBFmO5JIaChwdQkwqI4gou4s0wKPyZ7y0vKnREQsdhSQ/exec"
                              method="post"
                              class="h-adr"
                        
                            >
                        <span class="p-country-name" style="display: none">Japan</span>
                        <h3 class="question">①イベントで使用する参加名(ニックネーム)を入力してください</h3>
                        <h4>※景品当選時、YouTube Liveにて参加名(ニックネーム)を発表いたします。</h4>
                        <input type="text" name="name" id="name" required />
                        
                        <h4>
                          本名でなくて大丈夫です👌<br />
                          お好きな名前でご参加ください！!<br>
                          
                        </h4>
                        
                        <h3 class="question">②性別を教えてください</h3>
                        <label><input type="radio" name="sex" value="men" required/>男性</label>
                        <label><input type="radio" name="sex" value="women" />女性</label>
                        <label><input type="radio" name="sex" value="other" />その他</label>
                        
                        <h3 class="question">③年齢を教えてください</h3>
                        <label><input type="radio" name="age" value="0~19" required />〜19歳</label>
                        <label><input type="radio" name="age" value="20~29" />20歳代</label>
                        <label><input type="radio" name="age" value="30~39" />30歳代</label><br>
                        <label><input type="radio" name="age" value="40~49" />40歳代</label>
                        <label><input type="radio" name="age" value="50~59" />50歳代</label>
                        <label><input type="radio" name="age" value="60~" />60歳〜</label>
                        
                        <h3 class="question">④職業を教えてください</h3>
                        <label><input type="radio" name="occupation" value="1" required />小学生 </label>
                        <label><input type="radio" name="occupation" value="2" />中学生 </label>
                        <label><input type="radio" name="occupation" value="3" />高校生 </label>
                        <label><input type="radio" name="occupation" value="4" />大学生 </label
                        ><br />
                        <label
                          ><input type="radio" name="occupation" value="5" />経営者・役員
                        </label>
                        <label><input type="radio" name="occupation" value="6" />会社員 </label>
                        <label><input type="radio" name="occupation" value="7" />公務員 </label><br>
                        <label
                          ><input
                            type="radio"
                            name="occupation"
                            value="8"
                          />自営業・フリーランス </label
                        ><br />
                        <label
                          ><input type="radio" name="occupation" value="9" />契約社員・派遣社員
                        </label>
                        <label
                          ><input
                            type="radio"
                            name="occupation"
                            value="10"
                          />パート・アルバイト </label
                        ><br />
                        <label
                          ><input type="radio" name="occupation" value="11" />専業主婦(主夫)
                        </label>
                        <label
                          ><input type="radio" name="occupation" value="12" />定年退職
                        </label>

                        <label><input type="radio" name="occupation" value="13" />その他</label
                        ><br />
                        <input type="hidden" name="sexList" id="sexList" />
                        <input type="hidden" name="ageList" id="ageList" />
                        <input type="hidden" name="occupationList" id="occupationList" />


                           <h3 class="question">⑤スタンプカードの背景画像を選択してください！</h3>
                          <h4>《マイページ》→ <br>画面上部メニュー《スタンプカード》<br>からいつでも変更できます！！</h4>

<!--                             <div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="11">
      <h4>7/14~7/31限定！！</h4>
      <img class="backImg" src="./11-0.png" class="radio">
  
  </div>

</div> -->

                               <div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="19" required>
      <h4>9月限定！！</h4>
      <img class="backImg" src="./1-9-0.png" class="radio">
  
  </div>

</div>
   
     
      <div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="3">
      <img class="backImg" src="./3-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="4">
      <img class="backImg" src="./4-0.png" class="radio">
  
  </div>

</div>





<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="5">
      <img class="backImg" src="./5-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="6">
      <img class="backImg" src="./6-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="7">
      <img class="backImg" src="./7-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="8">
      <img class="backImg" src="./8-0.png" class="radio">
  
  </div>

</div>

<div class="radio-group">
  <div class="radio-area">
      <input type="radio" name="backImg" value="9">
      <img class="backImg" src="./9-0.png" class="radio">
  
  </div>

</div>
                          
                        <button class="button1" type="submit">ログインされていません</button> 
                        </form>

      </p>
    </div>
  </div>



  
  <div class="tab_content" id="ranking_content">
    <div class="tab_content_description">
      <p class="c-txtsp">
      

      </p>
    </div>
  </div>

        

            
       
                    
                      

    
</div>



<style>
  .i-top{
    font-size: 200%;
  }
  
  .qrTitle {
    border-style: double;
    border-color: blue;
    display: inline-block;
    text-align: center;
    padding: 0 10px;
  }
 
  .tabs {
    margin-top: 5px;
    padding-bottom: 5px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    width: 100%;
    margin: 0 auto;
  }

  .tab_item {
    width: calc(100% / 4);
    height: 100px;
    border-bottom: 3px solid #66b2ff;
    background-color: #d9d9d9;
    line-height: 50px;
    font-size: 16px;
    text-align: center;
    color: #565656;
    display: block;
    float: left;
    text-align: center;
    font-weight: bold;
    font-size: 80%;
    transition: all 0.2s ease;
  }
  .tab_item:hover {
    opacity: 0.75;
  }

  /*ラジオボタンを全て消す*/
  input[name="tab_item"] {
    display: none;
  }

  /*タブ切り替えの中身のスタイル*/
  .tab_content {
    display: none;
    padding: 5px 20px 0;
    clear: both;
    overflow: hidden;
  }

  /*選択されているタブのコンテンツのみを表示*/
  #registration:checked ~ #registration_content,
  #mypage:checked ~ #mypage_content,
  #ranking:checked ~ #ranking_content,
  #stamp:checked ~ #stamp_content {
    display: block;
  }

  /*選択されているタブのスタイルを変える*/
  .tabs input:checked + .tab_item {
    background-color: #66b2ff;
    color: #fff;
  }

  label[for="registration"] {
    border-color:  rgb(255, 196, 0);
    background-color: rgb(255, 196, 0);
    
  }

 .ballon{
  position:relative;
  display: inline-block;
  margin:0 0;
  padding: 7px 10px;
  min-width: 120px;
  max-width: 100%;
  color: #555; 
  font-size: 16px;
  background: rgb(255, 196, 0);;
  border-radius: 15px;
}
  
 .ballon:before{
  content:"";
  position: absolute;
  top: -25px;
  left: 20%;
  margin-left: -15px;
  border: 15px solid transparent;
  border-bottom: 15px solid rgb(255, 196, 0);

 }

 

 
  

    
  
</style>


<h3 class="footer">主催</h3>
<h3>社会福祉法人 宝塚市社会福祉協議会</h3>
<h3 class="footer">クールシェアたからづかに関するお問合せ</h3>
<h4>　<a href="https://line.me/R/oaMessage/@473kgyiz/?">LINE公式アカウント
</a> または　<a href="tel:0797865003">0797-86-5003</a>  まで</h4>
<h3 class="footer">協力団体</h3>
<h4>
宝塚市民生委員・児童委員連合会
宝塚商工会議所
宝塚市商店連合会
宝塚市介護保険事業者協会
宝塚市薬剤師会
兵庫県理容生活衛生同業組合 宝塚支部
宝塚市社会福祉法人連絡協議会
大塚製薬株式会社
ニュートラシューティカルズ事業部
</h4>

<style>
    h3.footer{
        text-align: center;
        border-style: double;
    }
</style>

      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      





 
<nav>
    <ul class="menu">
      <li>
        <a href="https://coolsharetakarazuka.github.io/home/" target="_self"
          ><i class="fa-solid fa-house"></i><br /><span class="iconname"
            >ホーム</span
          ></a
        >
      </li>
      <li>
        <a href="https://coolsharetakarazuka.github.io/map/" target="_self"
          ><i class="fa-solid fa-location-dot"></i><br /><span class="iconname"
            >マップ</span
          ></a
        >
      </li>
      <li>
        <a
          href="
        https://coolsharetakarazuka.github.io/how_to_play/" target="_self"
          ><i class="fa-solid fa-list-ol"></i><br /><span class="iconname"
            >遊び方</span
          ></a
        >
      </li>
      <li>
        <a href="https://liff.line.me/2007302862-3mj9r7W5" target="_self"
          ><i class="fa-solid fa-stamp"></i><br /><span class="iconname"
            >スタンプラリー</span
          ></a
        >
      </li>
    </ul>
  </nav>
 
<style>
      #mypage_content{
      text-align: center;
      }
      .menu {
        position: fixed;
        left: 0;
        bottom: 0;
        background: white;
        width: 100%;
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
      }

      .menu li {
        display: inline-block;
        text-align: center;
      }

      .menu a {
        text-decoration: none;
        color: black;
      }

      .menu a i {
        font-size: 24px;
      }

      .menu a span {
        display: block;
        font-size: 12px; /* テキストサイズ */
        margin-top: 5px;
      }

      @media (max-width: 768px) {
        .menu {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
        }

        .menu li {
          padding: 5px;
        }
      }

          h1 {
        font-family: sans-serif;
        display: flex;
        align-items: center; /* 縦方向の中央揃え */
        justify-content: center; /* 横方向の中央揃え */
        text-align: center;
        background: skyblue;
        padding-top: 10px;
        padding-bottom: 10px;
        padding-left: 10px;
        font-size: 85%;
      }

      input {
        font-size: 150%;
        background: skyblue;
        display: inline-block;
      }

      button {
        font-size: 100%;
        text-align: center;
        display: inline-block;
        font-size: 150%;
      }
      .information{
        border-style: dotted;
        display: inline-block;
      }

      .attention {
        width: 100%;
        border-style: double;
        border-color: red;
        color :red;
        font-family: sans-serif;
            }
      .qrUrl {
        color: red;
      }

      select {
        font-size: 100%;
      }

      .alert {
        border-style: double;
        border-color: red;
        width: 100%;
}

     .qrbutton {
       border-style: double;
        border-color: red;
        display: inline-block;
     }
  .lineImage{
    width:50%;
  }

  .explain{
    width:100%;
  }

   .btn{
                  display: inline-block;
                  padding: 0.5em 1em;
                  text-decoration: none;
                  background: #668ad8;
                  color: #fff;
                  border-bottom: solid 4px #627295;
                  border-radius: 3px;
                  font-family: sans-serif;
                  font-weight: bold;
                  font-size: 150%;
                }

                .btn:active {
                /*ボタンを押したとき*/
                -webkit-transform: translateY(4px);
                transform: translateY(4px);/*下に動く*/
                box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.2);/*影を小さく*/
                border-bottom: none;
                }


                .accordion-001 {
      max-width: 500px;
      background-color: #f2f2f2;
  }
  
  .accordion-001:not([open]) {
      margin-bottom: 7px;
  }
  
  .accordion-001 summary {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      padding: 1em 2em;
      border-radius: 5px;
      background-color: #72d2f8;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
  }
  
  .accordion-001 summary::-webkit-details-marker {
      display: none;
  }
  
  .accordion-001 summary::after {
      transform: translateY(-25%) rotate(45deg);
      width: 7px;
      height: 7px;
      margin-left: 10px;
      border-bottom: 3px solid #fff;
      border-right: 3px solid #fff;
      content: '';
      transition: transform .3s;
  }
  
  .accordion-001[open] summary::after {
      transform: rotate(225deg);
  }
  
  .accordion-001 p {
      transform: translateY(-10px);
      opacity: 0;
      margin: 0;
      padding: 1em 2em 2em 2em;
      color: #333333;
      transition: transform .5s, opacity .5s;
  }
  
  .accordion-001[open] p {
      transform: none;
      opacity: 1;
  }

            

      </style>
  </body>
</html>
